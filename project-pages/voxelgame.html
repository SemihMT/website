<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VulkanGin - Voxel Game</title>
    <link rel="stylesheet" href="../styles.css">

    <link rel="icon" type="image/x-icon" href="../assets/icon/favicon.ico"><link rel="stylesheet" href="../assets/highlight/styles/agate.css">
    <script src="../assets/highlight/highlight.min.js"></script>

</head>

<body>

    <!-- Header Section -->
    <header>
        <div onclick="location.href='../index.html';" style="cursor: pointer;">
            <h1>Semih's Portfolio</h1>
        </div>
        <nav>
            <ul>
                <li><a href="../index.html#projects">Projects</a></li>
                <li><a href="../blog.html">Blog</a></li>
                <li><a href="../img/SemihMehmetTeke_Resume_Public.pdf" target="_blank">Resume</a></li>
                <li><a href="../index.html#contact">Contact</a></li>
            </ul>
        </nav>
    </header>

    <!-- Project Details Section -->
    <section id="project-details">
        <div class="project-header">
            <h2>VulkanGin - Voxel Game</h2>
            <a href="https://github.com/SemihMT/VulkanGin" target="_blank" class="github-link">
                <img src="https://upload.wikimedia.org/wikipedia/commons/9/91/Octicons-mark-github.svg"
                    alt="GitHub Repository" width="40" height="40">
            </a>
        </div>
        <hr>
        <div class="project-details-image">
            <video preload="none" autoplay loop muted playsinline>
                <source src="../assets/images/Voxelgame/voxelgame.webm" type="video/webm">
            </video>
        </div>

        <div class="project-details-content">
            <div class="project-details-text">
                <h3>Overview</h3>
                <p>
                    This project is a first-person voxel world editor inspired by Minecraft. It allows users to place
                    and break blocks, and fly around an infinitely generated world.
                </p>
                <p>
                    Created using C++
                    and the Vulkan API, mainly for learning purposes.
                </p>
                <p>
                    The world is procedurally generated using simplex noise and is divided into chunks of 16x16x16
                    blocks. As you navigate the world, chunks are dynamically loaded and unloaded to ensure seamless
                    exploration.
                </p>

                <h3>Features</h3>
                <ul>
                    <li> <b>First-Person Controls:</b> Navigate the world with fluid first-person controls.</li>
                    <li> <b>Voxel Editing:</b> Place and break blocks to shape the world around you.</li>
                    <li> <b>Infinite World Generation:</b> Explore an endlessly generated world.</li>
                    <li> <b>Dynamic Chunk Management:</b> Chunks are loaded and unloaded dynamically based on your
                        position.</li>
                    <li> <b>Simplex Noise Generation:</b> Procedurally generated terrain.</li>
                    <li> <b>Efficient Rendering:</b> Utilize Vulkan for high-performance rendering.</li>
                </ul>
            </section>
            <section id="code-snippets">
                <h2>Code</h2>
                <div class="code-card">
                    <div class="code-card-header" onclick="toggleCodeSnippet(this)">
                        <h3>Voxel Game</h3>
                        <span class="toggle-icon">+</span>
                    </div>
                    <div class="code-content" style="display: none;">
                        <p>Using enums for type & texture information</p>
                        <div class="code-block">
                            <div class="code-block-header">
                                <span>Block.h</span>
                                <span class="toggle-icon">+</span>
                            </div>
                            <pre><code class="language-cpp">
namespace vxl
{
    // Function to automatically calculate an index into the texture atlas from rows & colums
    // This way I can use the enum type as both the texture information and the type information :D
    // See 'GetTextureCoordinates' in vxlChunk 
    constexpr uint32_t RowColToIdx(const glm::vec<2, uint32_t>& rowCol, int gridsize = 32)
    {
        return rowCol.x * gridsize + rowCol.y;
    }
    class vxlBlock
    {
    public:
        enum class VoxelType : uint32_t
        {
            Air = 0,
            Stone = RowColToIdx({26,6}),
            Dirt = RowColToIdx({13,21}),
            GrassSide = RowColToIdx({8,25}),
            GrassTop = RowColToIdx({10,26}),
            Sand = RowColToIdx({23,16}),
            TEST_BLOCK = RowColToIdx({0,20}),
            OakPlanks = RowColToIdx({ 18,7 }),
            OakLog = RowColToIdx({18,5}),
            OakLeaves = RowColToIdx({18,4}),
            CobbleStone = RowColToIdx({14,13}),
            Bricks = RowColToIdx({9,9}),
            Glass = RowColToIdx({15,24}),

        };
    public:
        vxlBlock(const glm::vec3& worldPosition, VoxelType type);

        void SetType(VoxelType type) { m_type = type; }
        void SetPosition(const glm::vec3& pos) { m_position = pos; }

        VoxelType GetType() const { return m_type; }
        glm::vec3  GetPosition() const { return m_position; }
        
    private:
        int m_atlasSize{ 32 };
        glm::vec3 m_position; // World coordinates
        VoxelType m_type;     // Type of voxel & Texture information
    };
}

                            </code></pre>
                        </div>
                    </div>
                </div>
            </section>
            <script>
                function toggleCodeSnippet(element) {
                    const codeContent = element.nextElementSibling;
                    const toggleIcon = element.querySelector('.toggle-icon');
        
                    if (codeContent.style.display === "none") {
                        codeContent.style.display = "block";
                        toggleIcon.textContent = "-";
                    } else {
                        codeContent.style.display = "none";
                        toggleIcon.textContent = "+";
                    }
                }
        
                const allCodeBlockHeader = document.querySelectorAll('.code-block-header');
                allCodeBlockHeader.forEach(element => {
                    element.addEventListener('click', function () {
                    const codeBlock = this.parentElement;
                    const toggleIcon = this.querySelector('.toggle-icon');
        
                    if (codeBlock.classList.contains('collapsed')) {
                        codeBlock.classList.remove('collapsed');
                        toggleIcon.textContent = '-';
                    } else {
                        codeBlock.classList.add('collapsed');
                        toggleIcon.textContent = '+';
                    }
                });
                });
                const allCodeCardHeader = document.querySelectorAll('.code-card-header');
                allCodeCardHeader.forEach(element => {
                    element.addEventListener('click', function () {
                    const codeBlock =  document.querySelector('.code-card');
                    if (codeBlock.classList.contains('collapsed')) {
                        codeBlock.classList.remove('collapsed');
                    } else {
                        codeBlock.classList.add('collapsed');
                    }
                });
                });
                
                // Initialize as collapsed
                document.addEventListener('DOMContentLoaded', function () {
                    const codeBlock = document.querySelectorAll('.code-block');
                    codeBlock.forEach(element => {
                        element.classList.add('collapsed');
                    });
                    //codeBlock.classList.add('collapsed');
                    const codeCard = document.querySelectorAll('.code-card');
                    codeCard.forEach(element => {
                        element.classList.add('collapsed');
                    });
                    //codeCard.classList.add('collapsed');
        
                });
            </script>
            <section>
                <h3>Technologies Used</h3>
                <div class="tags">
                    <div class="tag" style="background-color: #6488bc">
                        <span>C++</span>
                    </div>
                    <div class="tag" style="background-color: #ac162c;">
                        <span>Vulkan</span>
                    </div>
                    <!-- Add more tags as needed -->
                </div>
            </div>

        </div>

        <!-- Additional Screenshots Section -->
        <div class="project-screenshots">
            <h3>Screenshots</h3>
            <div id="project-grid">
                <div class="project">
                    <video preload="none" autoplay loop muted playsinline>
                        <source src="../assets/images/Voxelgame/vertexlighting.webm" type="video/webm">
                    </video>
                    <div class="caption">The first iteration of vertex lighting and dynamic world generation</div>
                </div>
                <div class="project">
                    <video preload="none" autoplay loop muted playsinline>
                        <source src="../assets/images/Voxelgame/chunkloading.webm" type="video/webm">
                    </video>
                    <div class="caption">A WIP shot of the chunk and world generation in action</div>
                </div>
                <div class="project">
                    <video preload="none" autoplay loop muted playsinline>
                        <source src="../assets/images/Voxelgame/optimized.webm" type="video/webm">
                    </video>
                    <div class="caption">Added a crosshair and optimized chunk generation</div>
                </div>
                <!-- Add more screenshots as needed -->
            </div>
        </div>

    </section>

    <!-- Footer Section -->
    <footer>
        <p>&copy; 2024 Semih. All rights reserved.</p>
    </footer>
    <script src="../script.js"></script>

    <script>hljs.highlightAll();</script>

</body>

</html>